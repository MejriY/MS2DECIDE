= MS2DECIDE

image::https://github.com/MejriY/Decide_test/raw/master/image/ms2decide_logo.png[]

MS2DECIDE is a Python library that leverages decision theory to assist chemists in metabolite annotation and analysis. By gathering insights from domain experts and modeling their intuition, the library offers a structured, data-driven approach to interpreting mass spectrometry results. MS2DECIDE integrates tools like GNPS and Sirius, enhanced with innovative methods such as Weighted Iterative GNPS Analog Search (WIGAS), to deliver reliable annotations even in uncertain scenarios. This library bridges expert knowledge and computational efficiency, simplifying complex workflows and enabling chemists to make informed, confident decisions in metabolite research.

== Instalation

Follow these steps to install **MS2DECIDE**:

1. **Ensure Python is installed**  
   Before proceeding, make sure Python (version 3.7 or higher) is installed on your system. You can download it from https://www.python.org/downloads/.  
   - On Windows: Install Python and check the box to add it to your system's PATH.
   - On Mac/Linux: Python is often pre-installed, but ensure it's the correct version by running:
     ```
     python3 --version
     ```

[source,console]
----
python3 --version
----

2. **Set up a virtual environment (optional but recommended)**  
   To avoid conflicts with other Python packages, create a virtual environment:

[source,console]
----
python3 -m venv ms2decide_env
source ms2decide_env/bin/activate  // On Windows: ms2decide_env\Scripts\activate
----

3. **Install the library**  
   Navigate to the directory containing the **MS2DECIDE_Folder** (replace with the correct folder name or path), and install it using `pip`:

[source,console]
----
pip install MS2DECIDE_Folder.
----

   If you are installing from a GitHub repository, use:

[source,console]
----
pip install git+https://github.com/MejriY/MS2DECIDE.git
----

4. **Verify the installation**  
   Check if the library is installed successfully:

[source,console]
----
python -c "import ms2decide; print('MS2DECIDE installed successfully!')"
----


image::https://github.com/MejriY/Decide_test/raw/master/image/all_article_workflow.png[]

== The logic behind the tool
image::https://github.com/MejriY/Decide_test/raw/master/image/who%20it%20work.png[]
       
=== Weighted iterative GNPS analog search (WIGAS)
image::https://github.com/MejriY/Decide_test/raw/master/image/gnps_iterative.png[]

=== Sirius
Sirius annotations were performed in batch mode by using Sirius 6. we utilized the ConfidenceScoreExact measure.
Unfortunately, in some cases, Sirius was not able to propose an annotation. To remedy, we associated a value of 0.5 to Sirius matching score. Additionally, in scenarios where there is no match with GNPS or no match with Sirius, the tanimoto between GNPS and SIRIUS cannot be calculated. Hence, a default value of 0.25 was also assigned to $T_{gs}$ in these instances. 

=== ISDB-LOTUS
For ISDB-Lotus, since a strict library search was applied, we considered a zero answer as an important information regarding our definition of novelty. Hence, no mean value was associated.

== Validation

=== Manufactured case
With our function in hand, we first opted to assess the ability of MS2Decide to recommend new NPs among a chemodiverse spectral library of 90 known compounds and 6 unreported ones.
image::https://github.com/MejriY/Decide_test/raw/master/image/case_1.png[]

=== Real case
In our second case study, MS2Decide was applied to assess its ability to streamline the discovery of new NPs from the LC-MS/MS analysis of the alkaloidic extract of a well known monoterpene indole alkaloids-producing plant, \textit{Pleiocarpa mutica} Benth.\ (Apocynaceae).

image::https://github.com/MejriY/Decide_test/raw/master/image/case_2.png[]

image::https://img.shields.io/pypi/v/ms2decide.svg[PyPI - Version,link=https://pypi.org/project/ms2decide]

image::https://img.shields.io/pypi/pyversions/ms2decide.svg[PyPI - Python Version,link=https://pypi.org/project/ms2decide]

